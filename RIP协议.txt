内部网关协议RIP

路由信息协议（routing information protocol）

RIP协议    路由器

距离向量算法	（基础为 Bellman-Ford 算法 或 Ford-Fulkerson 算法）

对每一个相邻路由器发送过来的RIP报文，进行以下步骤：
（1）对地址为X的相邻路由器发来的RIP报文，先修改此报文中的所有项目：
	把“下一跳”字段中的地址都改为X，并把所有的“距离”字段的值加1。（方便进行本路由器的更新）
	每一个项目都有三个关键数据，即：到目的网络N，距离为d，下一跳路由器是X。
（2）对修改后的RIP报文中的每一个项目，进行以下步骤：
	若原来的路由器中没有目的网络N，则将该项目添加到路由表中。（表明这是新的网络）
	否则（即在路由表中有目的网络N，这时就再查看下一跳路由器地址）
		若下一跳路由器地址是X，则把收到的项目替换原路由表中的项目。（这是最新的消息，要以最新的消息为准）
		否则（即这个项目是：到目的网络N，但下一跳路由器不是X）
			若收到的项目中的距离d小于路由表中的距离，则进行更新（此时距离短的优先）
			否则什么也不做（距离一样时，更新视为无用，故不更新）
（3）若3分钟还没有收到相邻路由器的更新路由表，则把此相邻路由器记为不可达的路由器，
	即把距离置为16（距离为16表示不可达）
（4）返回




RIP协议的报文格式


IP首部 | UDP首部 | RIP报文


首部（命令 | 版本 | 0）：4字节

路由部分	地址族标识符 | 路由标记
			网络地址
			子网掩码
			下一跳路由器地址
			距离（1-16）		
（4字节/行、20字节/路由、可重复出现最多25个这样的路由信息）
